# 如何觀察綠燈與紅燈測試結果

## 方法一：使用自動示範腳本（推薦）

### 執行互動式示範
```bash
python3 demonstrate_red_light.py
```

這個腳本會：
1. 先執行**綠燈測試**（有防呆保護）
2. 暫停讓你觀察結果
3. 再執行**紅燈測試**（無防呆保護）
4. 顯示測試結果總結

### 執行快速示範
```bash
python3 test_results_demo.py
```

這個腳本會同時展示綠燈和紅燈的結果，不需要按鍵互動。

---

## 方法二：手動切換測試

### 步驟 1：觀察綠燈（測試通過）✅

使用有防呆保護的版本：

```bash
# 執行測試
python3 -m unittest test_safe_division -v
```

**預期結果：**
```
test_division_by_zero ... ok
test_division_resulting_in_one ... ok
test_division_with_floats ... ok
...
----------------------------------------------------------------------
Ran 9 tests in 0.001s

OK
```

所有測試通過！✅ 這是**綠燈**狀態。

### 步驟 2：觀察紅燈（測試失敗）❌

#### 選項 A：使用無保護版本

```bash
# 備份原始檔案
cp safe_division.py safe_division_backup.py

# 使用無保護版本
cp safe_division_no_protection.py safe_division.py

# 執行測試（會失敗）
python3 -m unittest test_safe_division -v

# 恢復原始檔案
mv safe_division_backup.py safe_division.py
```

#### 選項 B：手動註解保護程式碼

1. 打開 `safe_division.py`
2. 找到這兩行：
   ```python
   if b == 0:
       return None
   ```
3. 將它們註解掉：
   ```python
   # if b == 0:
   #     return None
   ```
4. 執行測試：
   ```bash
   python3 -m unittest test_safe_division -v
   ```
5. 觀察測試失敗的結果

**預期結果（紅燈）：**
```
test_division_by_zero ... FAIL
...
FAILED (failures=3)

======================================================================
FAIL: test_division_by_zero (test_safe_division.TestSafeDivision)
----------------------------------------------------------------------
...
ZeroDivisionError: division by zero
```

測試失敗！❌ 這是**紅燈**狀態。

---

## 測試結果對照表

| 情境 | safe_division.py 狀態 | 測試結果 | 說明 |
|------|----------------------|---------|------|
| 綠燈 🟢 | 有防呆保護 (`if b == 0: return None`) | ✅ 9/9 tests passed | 程式能安全處理除以零 |
| 紅燈 🔴 | 無防呆保護（註解或移除） | ❌ 6/9 tests passed, 3 failed | 程式遇到除以零會崩潰 |

---

## 失敗的測試案例

當移除防呆保護後，以下測試會失敗：

1. `test_division_by_zero` - 測試 10 / 0
2. `test_division_by_zero` - 測試 -5 / 0  
3. `test_division_by_zero` - 測試 0 / 0

所有這些測試都會拋出 `ZeroDivisionError`。

---

## 檔案說明

- **safe_division.py** - 有防呆保護的版本（正常使用）✅
- **safe_division_no_protection.py** - 無防呆保護的版本（僅供示範）❌
- **test_safe_division.py** - 單元測試檔案
- **demonstrate_red_light.py** - 自動示範腳本（推薦）
- **test_results_demo.py** - 快速示範腳本

---

## 重要提醒

⚠️ **請務必確保生產環境使用的是 `safe_division.py`（有防呆保護的版本）**

⚠️ **`safe_division_no_protection.py` 僅供教學示範使用，切勿在實際專案中使用**

---

## 結論

這個練習展示了：

1. **綠燈（通過）**：有防呆機制時，程式能安全處理各種輸入，包括除以零的情況
2. **紅燈（失敗）**：沒有防呆機制時，程式會因為 ZeroDivisionError 而崩潰

**防呆機制的重要性：**
- ✅ 提高程式的健壯性（Robustness）
- ✅ 提高程式的可靠性（Reliability）
- ✅ 防止意外的程式崩潰
- ✅ 提供更好的使用者體驗

這就是為什麼我們需要**防呆裝置**！
